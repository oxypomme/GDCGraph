(this.webpackJsonpgdcgraph=this.webpackJsonpgdcgraph||[]).push([[0],{40:function(e){e.exports=JSON.parse('{"a":"https://oxypomme.fr/gdc/"}')},42:function(e){e.exports=JSON.parse('{"Game Master":["Game Master","GM"],"Squad Leader":["Squad Leader","Chef d\'escouade","Chef d\'\'escouade","Chef d\'\xe9quipe","SL","Sergent","Second"],"Team Leader":["Team Leader","TL","Chef de groupe","Caporal"],"Leader":["Commandant","Chef d\'op\xe9ration","Leader","Officier","Officer","Sergeant","Capitaine","Captain","Chef de mission","Chef de section","Bras droit","Chef","Commander"],"Assistant AT":["Assistant AT","Assistant RPG","Asst. RPG"],"Anti Tank":["AT","M136","M72","RPG","SMAW"],"JTAC":["JTAC","Radio"],"Medecin":["Medecin","Medic","Infirmier","Le v\xe9t\xe9rinaire","Doc","Corpsman","Secouriste","Ambulancier"],"Sapeur":["Sapeur","Sappeur","Sapper","Explosif","Explosive","Expert D\xe9mo-D\xe9minage","Explo","D\xe9mo","EOD","D\xe9mineur"],"Mule":["Mule","Porteur de munitions","Porteur Mun","Pr\xe9pos\xe9 munitions"],"Grenadier":["Grenadier"],"Sniper":["Sniper"],"Tireur d\'\xe9lite":["Tireur d\'\xe9lite"],"Marksman":["Marksman","Tireur de pr\xe9cision"],"Spotter":["Spotter","Eclaireur","Recon","Scout"],"Assistant MG":["Assistant MG","Mitrailleur assistant"],"Machine Gunner":["Machine Gunner","Machinegunner","MG","Mitrailleur"],"Assistant AR":["Asst AR","Asst. AR","Assitant AR","Assistant AR","Assitant fusilier arme auto","Asst. fusilier arme auto"],"Fusilier auto":["Fusilier auto","Fusilier arme auto","Auto-rifleman","AR"],"Pilote":["Pilote","Pilot"],"Membre d\'\xe9quipage":["Membre d\'\xe9quipage","Conducteur","Tireur","Chef de bord","Crew"],"Breacher":["Breacher"],"Bouclier":["Bouclier"],"Plongeur":["Plongeur","Diver"],"Fusilier":["Fusilier","Fusillier","Rifleman","Riffleman","Op\xe9rateur","Partisan","Gendarme","Volontaire","Milicien","Rebelle","Assaultman","Fantassin","Rfl","Fireman"]}')},64:function(e,n,t){},76:function(e,n,t){"use strict";t.r(n);var r,i,a,c,s,o,u=t(0),l=t.n(u),d=t(20),j=t.n(d),b=t(32),f=(t(64),t(5)),h=t(24),p=t(7),O=t(6),x=t(21),m=t(22),g=t(1),v=O.a.nav(r||(r=Object(f.a)(["\n    height: var(--nav-size);\n    width: 100%;\n    position: fixed;\n    float: left;\n    top: 0;\n    z-index: 9999;\n"]))),y=O.a.ul(i||(i=Object(f.a)(["\n    height: 100%;\n    list-style-type: none;\n    margin: 0;\n    overflow: hidden;\n    background-color: var(--background-dark);\n"]))),S=O.a.li(a||(a=Object(f.a)(["\n    height: 100%;\n    float: ",";\n\n    & > a {\n        display: inline-block;\n        color: var(--text);\n        text-align: center;\n        padding: 14px 16px;\n        text-decoration: none;\n        height: 100%;\n        &:hover {\n            background-color: var(--background-light);\n        }\n        &.active {\n            background-color: var(--accent1);\n        }\n    }\n\n    & svg {\n        margin-right: 5px;\n    }\n"])),(function(e){return e.right?"right":"left"})),A=function(){return Object(g.jsx)(v,{id:"navbar",children:Object(g.jsxs)(y,{children:[Object(g.jsx)(S,{children:Object(g.jsxs)(h.b,{exact:!0,to:"/",children:[Object(g.jsx)(x.a,{icon:m.b}),"GDC Graph"]})}),Object(g.jsx)(S,{children:Object(g.jsxs)(h.b,{to:"/players",children:[Object(g.jsx)(x.a,{icon:m.e}),"Joueurs"]})}),Object(g.jsx)(S,{children:Object(g.jsxs)(h.b,{exact:!0,to:"/missions",children:[Object(g.jsx)(x.a,{icon:m.c}),"Missions"]})}),Object(g.jsx)(S,{right:!0,children:Object(g.jsxs)("a",{href:"https://grecedecanards.fr/GDCStats/",children:[Object(g.jsx)(x.a,{icon:m.a}),"GDC Stats"]})})]})})},C=O.a.div(c||(c=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n"]))),D=function(){return Object(g.jsxs)(C,{children:[Object(g.jsx)("h1",{children:"501"}),Object(g.jsx)("h2",{children:"Page en cours de construction"}),Object(g.jsxs)("p",{children:['"Vous pouvez attendre le temps que je bosse ?"',Object(g.jsx)("br",{}),Object(g.jsx)("a",{href:"https://github.com/oxypomme",children:"OxyTom"}),", 2021"]})]})},w=function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(D,{})})},E=t(16),k=t(9),F=t(31),I=t(25),L=function(){return Object(b.b)()},M=b.c,P=t(18),R=t(33),N=t(35),T=t.n(N),G=t(50),V=t(26),_=t(37),z=t(40),B=t(41),J=t.n(B),U=Object(V.b)("player/fetchPlayerList",Object(G.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(J()(z.a,"/players"));case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))),W=Object(V.b)("player/fetchPlayer",function(){var e=Object(G.a)(T.a.mark((function e(n,t){var r,i,a,c,s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getState,i=n,parseInt(n)){e.next=8;break}return e.next=5,fetch(J()(z.a,"/players/name/".concat(n)));case 5:return e.next=7,e.sent.json();case 7:i=e.sent.id;case 8:if(a=r().player.players,-1===(c=a.findIndex((function(e){return e.infos.id==parseInt(i)})))){e.next=12;break}return e.abrupt("return",a[c]);case 12:return e.next=14,fetch(J()(z.a,"/players/".concat(i)));case 14:return e.next=16,e.sent.json();case 16:if(!(s=e.sent).infos.name){e.next=19;break}return e.abrupt("return",s);case 19:return e.abrupt("return",null);case 20:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),q=Object(V.c)({name:"player",initialState:{playerList:[],players:[],lastFetchIndex:-1,isFetching:!1},extraReducers:(s={},Object(P.a)(s,U.pending.type,(function(e){return Object(k.a)(Object(k.a)({},e),{},{isFetching:!0})})),Object(P.a)(s,U.fulfilled.type,(function(e,n){var t=n.payload;return Object(k.a)(Object(k.a)({},e),{},{playerList:t,isFetching:!1})})),Object(P.a)(s,U.rejected.type,(function(e,n){var t=n.error;return console.error(t),Object(k.a)(Object(k.a)({},e),{},{isFetching:!1})})),Object(P.a)(s,W.pending.type,(function(e){return Object(k.a)(Object(k.a)({},e),{},{isFetching:!0})})),Object(P.a)(s,W.fulfilled.type,(function(e,n){var t=n.payload,r=Object(R.a)(e.players),i=-1;return t&&-1===(i=r.findIndex((function(e){return e.infos.id==t.infos.id})))&&(i=r.length,r=[].concat(Object(R.a)(r),[t])),Object(k.a)(Object(k.a)({},e),{},{players:r,lastFetchIndex:i,isFetching:!1})})),Object(P.a)(s,W.rejected.type,(function(e,n){var t=n.error;return console.error(t),Object(k.a)(Object(k.a)({},e),{},{isFetching:!1})})),s),reducers:{}}),K=function(e){return e.player},H=Object(_.a)(K,(function(e){return e.playerList})),Q=Object(_.a)(K,(function(e){return e.players[e.lastFetchIndex]})),X=Object(_.a)(K,(function(e){return e.isFetching})),Y=q.reducer,Z=t(42);!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED"}(o||(o={}));var $,ee=o;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ALIVE=1]="ALIVE",e[e.DEAD=2]="DEAD"}($||($={}));var ne,te,re,ie,ae,ce,se,oe,ue,le,de,je,be=$,fe={colors:["#81d5ff","#ee9e9e","#fceb96"],legend:{position:"bottom"},pieSliceTextStyle:{color:"black"}},he=t(3),pe=Object(he.d)(ne||(ne=Object(f.a)(["\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(360deg);\n    }\n"]))),Oe=O.a.div(te||(te=Object(f.a)(["\n    position: absolute;\n    top: 0;\n    left:0 ;\n    z-index: 9998;\n    background-color: black;\n    opacity: 0.5;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    & > svg {\n        animation: "," 2s linear infinite;\n    }\n"])),pe),xe=function(){return Object(g.jsx)(Oe,{children:Object(g.jsx)(x.a,{icon:m.d,color:"white",size:"6x"})})},me=O.a.span(re||(re=Object(f.a)(["\n    background-color: ",";\n    font-size: 8pt;\n    padding: 2px;\n    border-radius: 5px;\n    vertical-align: text-top;\n"])),(function(e){return e.color})),ge=function(e){var n=e.element,t=l.a.useState(""),r=Object(E.a)(t,2),i=r[0],a=r[1],c=l.a.useState(""),s=Object(E.a)(c,2),o=s[0],u=s[1];return l.a.useEffect((function(){switch(n){case ee.SUCCESS:a("#81d5ff"),u("Succ\xe8s");break;case be.ALIVE:a("#81d5ff"),u("Vivant");break;case ee.FAILED:a("#ee9e9e"),u("Echec");break;case be.DEAD:a("#ee9e9e"),u("Mort");break;default:a("#fceb96"),u("Inconnu")}}),[n]),Object(g.jsx)(me,{color:i,children:o})},ve=O.a.div(ie||(ie=Object(f.a)(["\n    width: 50%;\n"]))),ye=O.a.div(ae||(ae=Object(f.a)(["\n    display: flex;\n    align-content: center;\n    justify-content: center;\n    flex-wrap: wrap;\n"]))),Se=O.a.div(ce||(ce=Object(f.a)(["\n    flex-basis: ",";\n    width: ",';\n    & *[dir="ltr"] {\n        margin: 0 auto;\n    }\n'])),(function(e){return e.wide?"75%":"50%"}),(function(e){return e.wide?e.wide:"25%"})),Ae=function(e){var n=L(),t=e.id,r=M(Q),i=M(X),a=l.a.useState({}),c=Object(E.a)(a,2),s=c[0],o=c[1],u=l.a.useState({}),d=Object(E.a)(u,2),j=d[0],b=d[1],f=l.a.useState({}),h=Object(E.a)(f,2),p=h[0],O=h[1];l.a.useEffect((function(){n(W(t))}),[t]);var x=function(e){return e.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"")},m=function(e){return r?r.missions.filter((function(n){return n.player_status===e})).length:0},v=function(e){return r?r.missions.filter((function(n){return n.mission_status===e})).length:0};return l.a.useEffect((function(){i||(o(function(){var e=[["Role","Nombre"]];if(r){var n,t=new Array(0),i={Inconnu:r.missions.length},a=Object(F.a)(r.missions);try{for(a.s();!(n=a.n()).done;){for(var c=n.value,s=!1,o=0;o<Object.values(Z).length;o++){var u,l=Object.keys(Z)[o],d=Object(F.a)(Object.values(Z)[o].map((function(e){return x(e)})));try{for(d.s();!(u=d.n()).done;){var j=u.value;if(x(c.role).includes(j)){s=!0,isNaN(i[l])?i[l]=1:i[l]++,i.Inconnu--;break}}}catch(h){d.e(h)}finally{d.f()}if(s)break}s||t.push({mission:c.id,role:c.role})}}catch(h){a.e(h)}finally{a.f()}for(var b=0;b<Object.keys(i).length;b++){var f=Object.keys(i)[b];Object.values(i)[b]>0&&e.push([f,Object.values(i)[b]])}t.length>0&&console.log("[Player.tsx/getRoleStats/".concat(r.infos.name,"] Roles skipped :"),t,"\nIf you see this warning and you're not the owner of the website, please contact OxyTom#1831 on Discord.")}return e.sort((function(e,n){return n[1]-e[1]}))}()),b(function(){var e=[["Status fin","Nombre"]];if(r){var n=m(be.ALIVE),t=m(be.DEAD);n&&e.push(["Vivant",n]),t&&e.push(["Mort",t]),n+t!==r.infos.count_missions&&e.push(["Inconnu",r.infos.count_missions-(n+t)])}return e}()),O(function(){var e=[["Verdict","Nombre"]];if(r){var n=v(ee.SUCCESS),t=v(ee.FAILED);n&&e.push(["Succ\xe8s",n]),t&&e.push(["Echec",t]),n+t!==r.infos.count_missions&&e.push(["Inconnu",r.infos.count_missions-(n+t)])}return e}()))}),[i]),Object(g.jsxs)(ve,{children:[i?Object(g.jsx)(xe,{}):Object(g.jsx)(g.Fragment,{}),Object(g.jsxs)("h2",{children:["#",null===r||void 0===r?void 0:r.infos.id," - ",null===r||void 0===r?void 0:r.infos.name]}),Object(g.jsxs)("p",{children:[null===r||void 0===r?void 0:r.infos.count_missions," missions au compteur"]}),Object(g.jsxs)("p",{children:["Derni\xe8re mission jou\xe9 le ",null===r||void 0===r?void 0:r.missions[0].date," ",Object(g.jsx)(ge,{element:null===r||void 0===r?void 0:r.missions[0].mission_status})]}),Object(g.jsxs)(ye,{children:[Object(g.jsxs)(Se,{children:[Object(g.jsx)("h3",{children:"Mort ou vif"}),Object(g.jsx)(I.a,{width:"100%",height:"auto",chartType:"PieChart",loader:Object(g.jsx)("div",{children:"Waiting Data"}),data:j,options:Object(k.a)({},fe)}),Object(g.jsxs)("p",{children:["Ratio : ",(m(be.ALIVE)/m(be.DEAD)).toLocaleString(void 0,{maximumFractionDigits:2})]})]}),Object(g.jsxs)(Se,{children:[Object(g.jsx)("h3",{children:"Victoire"}),Object(g.jsx)(I.a,{width:"100%",height:"auto",chartType:"PieChart",loader:Object(g.jsx)("div",{children:"Waiting Data"}),data:p,options:Object(k.a)({},fe)}),Object(g.jsxs)("p",{children:["Ratio : ",(v(ee.SUCCESS)/v(ee.FAILED)).toLocaleString(void 0,{maximumFractionDigits:2})]})]}),Object(g.jsxs)(Se,{wide:"100%",children:[Object(g.jsx)("h3",{children:"Roles"}),Object(g.jsx)(I.a,{width:"100%",height:"300px",chartType:"ColumnChart",loader:Object(g.jsx)("div",{children:"Waiting Data"}),data:s,options:{isStacked:!0,legend:"none",vAxis:{title:"Nombre de missions"},hAxis:{title:"Role",textPosition:"none"},colors:["#ADEBAD"]}})]})]})]})},Ce=O.a.div(se||(se=Object(f.a)(["\n    display: flex;\n    justify-content: center;\n    align-content: center;\n"]))),De=function(){var e=L(),n=M(H),t=M(X);l.a.useEffect((function(){n.length<=0&&e(U())}),[n]);return Object(g.jsxs)("div",{children:[t?Object(g.jsx)(xe,{}):Object(g.jsx)(g.Fragment,{}),Object(g.jsxs)("h2",{children:[null===n||void 0===n?void 0:n.length," joueurs ont \xe9t\xe9s trouv\xe9s"]}),Object(g.jsx)(Ce,{children:Object(g.jsx)(I.a,{width:"auto",height:"auto",chartType:"ColumnChart",loader:Object(g.jsx)("div",{children:"Loading Chart"}),data:function(){var e=["Player","Count"];return n.length>0?[e].concat(Object(R.a)(n.slice().sort((function(e,n){return n.count_missions-e.count_missions})).slice(0,3).map((function(e){return[e.name,e.count_missions]})))):[e]}(),options:{isStacked:!0,chart:{title:"3 plus gros joueurs"},legend:"none",vAxis:{title:"Nombre de missions"},colors:["#ADEBAD"]}})}),Object(g.jsxs)("p",{children:["Chaque joueur a jou\xe9 ",function(){if(n.length>0){var e,t=0,r=Object(F.a)(n);try{for(r.s();!(e=r.n()).done;){t+=e.value.count_missions}}catch(i){r.e(i)}finally{r.f()}return t/n.length}return 0}().toLocaleString(void 0,{maximumFractionDigits:0})," missions en moyenne"]})]})},we=O.a.div(oe||(oe=Object(f.a)(["\n    border-bottom: 1px solid ",";\n    ","\n"])),(function(e){return e.color?e.color:"var(--background-light)"}),(function(e){return e.width?"width: ".concat(e.width," ;"):""})),Ee=t(55),ke=O.a.div(ue||(ue=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 15%;\n\n    & > label {\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        text-align: left;\n        & > * {\n            margin: 5px 0 10px 0;\n            & > div:first-of-type {\n                border-radius: 5px 5px 0 0;\n                border: 0;\n                border-bottom: 1px solid var(--text);\n            }\n        }\n    }\n"]))),Fe=function(e){var n=e.setPlayer,t=L(),r=M(H),i=l.a.useState(new Array(0)),a=Object(E.a)(i,2),c=a[0],s=a[1],o=l.a.useRef(null);return l.a.useEffect((function(){r.length>0?s(r.map((function(e){return{name:e.name,value:e.id}}))):s([{name:"R\xe9cuperer les joueurs",value:0}])}),[r]),Object(g.jsx)(ke,{children:Object(g.jsxs)("label",{children:["Joueur :",Object(g.jsx)(Ee.a,{ref:o,options:c,onChange:function(e){e&&(0===e.value?t(U()):n(e.value.toString()))},onKeyDown:function(e){"Delete"===e.key&&o.current&&o.current.select&&(o.current.select.select.clearValue(),n(""))},components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null},Placeholder:function(){return null}},getOptionLabel:function(e){return"".concat(0!=e.value?"string"!==typeof e.value||parseInt(e.value)?"#".concat(e.value):e.value:"").concat(e.value&&e.name?" - ":"").concat(e.name?e.name:"")}})]})})},Ie=O.a.div(le||(le=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),Le=function(e){var n=e.playerID,t=l.a.useState(n),r=Object(E.a)(t,2),i=r[0],a=r[1];return Object(g.jsxs)(Ie,{children:[Object(g.jsx)(Fe,{setPlayer:a}),Object(g.jsx)(we,{width:"50%"}),i?Object(g.jsx)(Ae,{id:i}):Object(g.jsx)(De,{})]})},Me=function(){var e=Object(p.f)().id;return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{style:{visibility:"hidden"},children:"Joueurs"}),Object(g.jsx)(Le,{playerID:e})]})},Pe=t.p+"static/media/canardhurt.ed18cd85.png",Re=O.a.div(de||(de=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n"]))),Ne=function(){return Object(g.jsxs)(Re,{children:[Object(g.jsx)("h1",{children:"404"}),Object(g.jsx)("h2",{children:"Page non trouv\xe9e"}),Object(g.jsx)("img",{src:Pe}),Object(g.jsx)("p",{children:"Alors l\xe0, on vous a perdu..."})]})},Te=O.a.div(je||(je=Object(f.a)(["\n  margin-top: var(--nav-size);\n  text-align: center;\n  height: calc(100vh - var(--nav-size));\n"]))),Ge=function(){return Object(g.jsxs)(h.a,{basename:"/",children:[Object(g.jsx)(A,{}),Object(g.jsx)(Te,{children:Object(g.jsxs)(p.c,{children:[Object(g.jsx)(p.a,{exact:!0,path:"/",component:w}),Object(g.jsx)(p.a,{exact:!0,path:["/players","/players/:id"],component:Me}),Object(g.jsx)(p.a,{exact:!0,path:["/missions","/missions/:id"],component:D}),Object(g.jsx)(p.a,{component:Ne})]})})]})},Ve=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,77)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),r(e),i(e),a(e),c(e)}))},_e=t(11),ze=Object(_e.c)({player:Y});var Be=Object(V.a)({reducer:ze});j.a.render(Object(g.jsx)(l.a.StrictMode,{children:Object(g.jsx)(b.a,{store:Be,children:Object(g.jsx)(Ge,{})})}),document.getElementById("root")),Ve()}},[[76,1,2]]]);
//# sourceMappingURL=main.7b0b9a08.chunk.js.map