(this.webpackJsonpgdcgraph=this.webpackJsonpgdcgraph||[]).push([[0],{44:function(t){t.exports=JSON.parse('{"a":"https://gdc.oxypomme.fr/"}')},68:function(t){t.exports=JSON.parse("[0,5,6]")},83:function(t,e,n){},96:function(t,e,n){"use strict";n.r(e);var a,i,c,s,r,o,u,l,d,j,b,h=n(0),m=n.n(h),p=n(30),O=n.n(p),x=n(46),f=n(14),v=n.n(f),g=(n(82),n(83),n(6)),y=n(32),S=n(9),k=n(7),_=n(19),C=n(11),D=n(1),w=k.a.nav(a||(a=Object(g.a)(["\n    height: var(--nav-size);\n    width: 100%;\n    position: fixed;\n    float: left;\n    top: 0;\n    z-index: 9999;\n"]))),E=k.a.ul(i||(i=Object(g.a)(["\n    height: 100%;\n    list-style-type: none;\n    margin: 0;\n    overflow: hidden;\n    background-color: var(--background-dark);\n"]))),A=k.a.li(c||(c=Object(g.a)(["\n    height: 100%;\n    float: ",";\n\n    & > a {\n        display: inline-block;\n        color: var(--text);\n        text-align: center;\n        padding: 14px 16px;\n        text-decoration: none;\n        height: 100%;\n        &:hover {\n            background-color: var(--background-light);\n        }\n        &.active {\n            background-color: var(--accent1);\n        }\n    }\n\n    & svg {\n        margin-right: 5px;\n    }\n"])),(function(t){return t.right?"right":"left"})),F=function(){return Object(D.jsx)(w,{id:"navbar",children:Object(D.jsxs)(E,{children:[Object(D.jsx)(A,{children:Object(D.jsxs)(y.b,{exact:!0,to:"/",children:[Object(D.jsx)(_.a,{icon:C.d}),"GDC Graph"]})}),Object(D.jsx)(A,{children:Object(D.jsxs)(y.b,{to:"/players",children:[Object(D.jsx)(_.a,{icon:C.o}),"Joueurs"]})}),Object(D.jsx)(A,{children:Object(D.jsxs)(y.b,{exact:!0,to:"/missions",children:[Object(D.jsx)(_.a,{icon:C.g}),"Missions"]})}),Object(D.jsx)(A,{children:Object(D.jsxs)(y.b,{exact:!0,to:"/maps",children:[Object(D.jsx)(_.a,{icon:C.h}),"Maps"]})}),Object(D.jsx)(A,{right:!0,children:Object(D.jsxs)("a",{href:"https://grecedecanards.fr/GDCStats/",children:[Object(D.jsx)(_.a,{icon:C.c}),"GDC Stats"]})})]})})},L=k.a.div(s||(s=Object(g.a)(["\n    flex: 1 0 25%;\n    border: 1px solid black;\n    border-radius: 10px;\n    margin: 5%;\n    padding: 5%;\n    cursor: pointer;\n"]))),M=function(t){var e=t.image,n=t.title,a=t.desc,i=t.onClick;return Object(D.jsxs)(L,{tabIndex:0,onClick:i,children:[Object(D.jsx)("img",{src:e}),Object(D.jsx)("h2",{children:n}),Object(D.jsx)("p",{children:a})]})},N=k.a.div(r||(r=Object(g.a)(["\n    display: flex;\n    justify-items: center;\n    align-items: center;\n    width: 50%;\n    margin: 0 auto;\n"]))),I=function(){var t=Object(S.f)();return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(N,{children:[Object(D.jsx)(M,{image:"",title:"Joueurs",desc:"Affiche des stats g\xe9n\xe9rales sur les joueurs, ou un joueur en particulier.",onClick:function(){t.push("/players")}}),Object(D.jsx)(M,{image:"",title:"Missions",desc:"Affiche des stats g\xe9n\xe9rales sur les missions, ou une mission en particulier.",onClick:function(){t.push("/missions")}}),Object(D.jsx)(M,{image:"",title:"Maps",desc:"Affiche des stats g\xe9n\xe9rales sur les maps",onClick:function(){t.push("/maps")}})]}),Object(D.jsxs)("p",{children:["Outil d\xe9velopp\xe9 pour les canards de ",Object(D.jsx)("a",{href:"https://grecedecanards.fr/",children:"Gr\xe8ce de Canard"}),"."]}),Object(D.jsxs)("p",{children:["Li\xe9 \xe0 ",Object(D.jsx)("a",{href:"https://grecedecanards.fr/GDCStats/",children:"GDC Stats"}),"."]})]})},P=n(10),V=n(8),Y=function(){return Object(x.b)()},T=x.c,J=n(18),U=n(34),W=n(33),z=n.n(W),H=n(43),R=n(29),G=n(49),B=n(44),K=n(45),q=n.n(K),$=Object(R.b)("player/fetchPlayerList",Object(H.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(q()(B.a,"/api/players"));case 2:return t.next=4,t.sent.json();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))),Q=Object(R.b)("player/fetchPlayer",function(){var t=Object(H.a)(z.a.mark((function t(e,n){var a,i,c,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.getState,i=a().player.players,-1===(c=i.findIndex((function(t){return t.id===parseInt(e)||t.name===e})))){t.next=5;break}return t.abrupt("return",i[c]);case 5:return t.next=7,fetch(q()(B.a,"/graph/players/".concat(e)));case 7:return t.next=9,t.sent.json();case 9:if(!(s=t.sent).name){t.next=12;break}return t.abrupt("return",s);case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),X=Object(R.c)({name:"player",initialState:{playerList:{data:[],updated:""},players:[],lastFetchIndex:-1,isFetching:!1},extraReducers:(o={},Object(J.a)(o,$.pending.type,(function(t){return Object(V.a)(Object(V.a)({},t),{},{isFetching:!0})})),Object(J.a)(o,$.fulfilled.type,(function(t,e){var n=e.payload;return Object(V.a)(Object(V.a)({},t),{},{playerList:n,isFetching:!1})})),Object(J.a)(o,$.rejected.type,(function(t,e){var n=e.error;return console.error(n),Object(V.a)(Object(V.a)({},t),{},{isFetching:!1})})),Object(J.a)(o,Q.pending.type,(function(t){return Object(V.a)(Object(V.a)({},t),{},{isFetching:!0})})),Object(J.a)(o,Q.fulfilled.type,(function(t,e){var n=e.payload,a=Object(U.a)(t.players),i=-1;return n&&-1===(i=a.findIndex((function(t){return t.id==n.id})))&&(i=a.length,a=[].concat(Object(U.a)(a),[n])),Object(V.a)(Object(V.a)({},t),{},{players:a,lastFetchIndex:i,isFetching:!1})})),Object(J.a)(o,Q.rejected.type,(function(t,e){var n=e.error;return console.error(n),Object(V.a)(Object(V.a)({},t),{},{isFetching:!1})})),o),reducers:{}}),Z=function(t){return t.player},tt=Object(G.a)(Z,(function(t){return t.playerList})),et=Object(G.a)(Z,(function(t){return t.players[t.lastFetchIndex]})),nt=Object(G.a)(Z,(function(t){return t.isFetching})),at=X.reducer,it=k.a.div(u||(u=Object(g.a)(["\n    border-bottom: 1px solid ",";\n    ","\n"])),(function(t){return t.color?t.color:"var(--background-light)"}),(function(t){return t.width?"width: ".concat(t.width," ;"):""})),ct=k.a.div(l||(l=Object(g.a)(["\n    border-left: 1px solid ",";\n    ","\n"])),(function(t){return t.color?t.color:"var(--background-light)"}),(function(t){return t.height?"height: ".concat(t.height," ;"):""})),st=n(4),rt=Object(st.d)(d||(d=Object(g.a)(["\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(360deg);\n    }\n"]))),ot=k.a.div(j||(j=Object(g.a)(["\n    position: absolute;\n    top: 0;\n    left:0 ;\n    z-index: 9998;\n    background-color: black;\n    opacity: 0.5;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    & > svg {\n        animation: "," 2s linear infinite;\n    }\n"])),rt),ut=function(){return Object(D.jsx)(ot,{children:Object(D.jsx)(_.a,{icon:C.m,color:"white",size:"6x"})})};!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.SUCCESS=1]="SUCCESS",t[t.FAILED=2]="FAILED"}(b||(b={}));var lt,dt=b;!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.ALIVE=1]="ALIVE",t[t.DEAD=2]="DEAD"}(lt||(lt={}));var jt,bt,ht,mt,pt,Ot,xt,ft,vt,gt,yt,St,kt,_t,Ct,Dt,wt,Et,At,Ft,Lt,Mt,Nt,It=lt,Pt=k.a.span(jt||(jt=Object(g.a)(["\n    background-color: ",";\n    font-size: 8pt;\n    padding: 2px;\n    border-radius: 5px;\n    vertical-align: text-top;\n"])),(function(t){return t.color})),Vt=function(t){var e=t.element;if(void 0===e)return Object(D.jsx)(D.Fragment,{});var n=m.a.useState(""),a=Object(P.a)(n,2),i=a[0],c=a[1],s=m.a.useState(""),r=Object(P.a)(s,2),o=r[0],u=r[1];return m.a.useEffect((function(){switch(e){case dt.SUCCESS:c("#81d5ff"),u("Succ\xe8s");break;case It.ALIVE:c("#81d5ff"),u("Vivant");break;case dt.FAILED:c("#ee9e9e"),u("Echec");break;case It.DEAD:c("#ee9e9e"),u("Mort");break;default:c("#fceb96"),u("Inconnu")}}),[e]),Object(D.jsx)(Pt,{color:i,children:o})},Yt=n(68),Tt=n(25),Jt={colors:["#81d5ff","#ee9e9e","#fceb96","#ADEBAD","#C6A5CC"],legend:{position:"bottom"},pieSliceTextStyle:{color:"black"}},Ut=n(53),Wt=n(73),zt=k.a.div(bt||(bt=Object(g.a)(["\n\tbackground: var(--background-dark);\n\twidth: 100%;\n\tpadding: 10px;\n\tmargin: 10px;\n\tborder-radius: 5px;\n\tposition: relative;\n\t& > h4 {\n\t\tmargin: 0;\n\t\tmargin-left: 5px;\n\t\tdisplay: inline;\n\t}\n\t& > svg {\n\t\tposition: absolute;\n\t\tleft: 10px;\n\t}\n"]))),Ht=.4,Rt=function(t){var e=t.player,n=m.a.useState([]),a=Object(P.a)(n,2),i=a[0],c=a[1];return m.a.useEffect((function(){var t=[];if(e){var n,a;e.total_player_mission_status.SUCCES_Mort/e.total_mission_status.SUCCES>=Ht&&t.push({name:"Elle a fini sans toi",icon:C.l,desc:"Est mort dans ".concat((e.total_player_mission_status.SUCCES_Mort/e.total_mission_status.SUCCES*100).toLocaleString(void 0,{maximumFractionDigits:2}),"% de ses missions accomplies")}),e.count_missions>=400&&t.push({name:"Petit joueur",icon:C.f,desc:"A jou\xe9 seulement ".concat(e.count_missions," missions")});var i=Object.keys(e.days).map((function(t,n){return{day:v()().day(parseInt(t)).format("dddd"),count:Object.values(e.days)[n].count}})).sort((function(t,e){return e.count-t.count}));(null===(n=i[0])||void 0===n?void 0:n.count)/e.count_missions>=Ht&&t.push({name:"Joueur du ".concat(i[0].day),icon:C.b,desc:"A jou\xe9 ".concat((i[0].count/e.count_missions*100).toLocaleString(void 0,{maximumFractionDigits:2}),"% de ses missions le ").concat(i[0].day)});var s=Object.keys(e.roles.roles_count).map((function(t,n){return{name:t,count:Object.values(null===e||void 0===e?void 0:e.roles.roles_count)[n]}})).sort((function(t,e){return e.count-t.count}));(null===(a=s[0])||void 0===a?void 0:a.count)/e.count_missions>=Ht&&t.push({name:"\xc9ternel ".concat(s[0].name),desc:"A jou\xe9 ".concat((s[0].count/e.count_missions*100).toLocaleString(void 0,{maximumFractionDigits:2}),"% de ses missions en tant que ").concat(s[0].name)});var r,o=0,u=Object(Ut.a)(s);try{for(u.s();!(r=u.n()).done;){var l=r.value;l.name.includes("Leader")&&(o+=l.count)}}catch(b){u.e(b)}finally{u.f()}if(o/e.count_missions>=Ht&&t.push({name:"Leader un jour, Leader toujours",icon:C.i,desc:"A jou\xe9 ".concat((o/e.count_missions*100).toLocaleString(void 0,{maximumFractionDigits:2}),"% de ses missions en tant que Leader (SL, TL ou Leader)")}),e.last_mission){var d,j=v()().diff(v()(null===(d=e.last_mission)||void 0===d?void 0:d.date,"DD/MM/YYYY"),"month");j>2&&t.push({name:"Je sais o\xf9 tu te cache !",icon:C.j,desc:"A jou\xe9 sa derni\xe8re mission il y a ".concat(j," mois")})}e.streak.mort.current&&e.streak.mort.count>=4&&t.push({name:"J'ai beau \xeatre matinal...'",icon:C.a,desc:"Est mort ces ".concat(e.streak.mort.count," derni\xe8res missions")}),e.streak.vivant.current&&e.streak.vivant.count>=4&&t.push({name:"Mourrir peut attendre",icon:C.k,desc:"Est vivant ces ".concat(e.streak.vivant.count," derni\xe8res missions")}),e.count_cache_missions/e.count_missions>=Ht&&t.push({name:"Cherche l'argent",icon:C.e,desc:"".concat((e.count_cache_missions/e.count_missions*100).toLocaleString(void 0,{maximumFractionDigits:2}),"% de ses missions ont \xe9t\xe9 des Cache Cash")})}c(t)}),[e]),Object(D.jsx)(D.Fragment,{children:i.map((function(t,e){return Object(D.jsxs)("div",{children:[Object(D.jsxs)(zt,{"data-tip":t.desc,children:[Object(D.jsx)(_.a,{icon:t.icon||C.n}),Object(D.jsx)("h4",{children:t.name})]}),Object(D.jsx)(Wt.a,{})]},e)}))})},Gt=n(70),Bt=function(t){var e=t.stats,n=t.columns;return Object(D.jsx)(Tt.a,{width:"100%",height:"250px",chartType:"ComboChart",loader:Object(D.jsx)("div",{children:"Waiting Data"}),data:e,options:Object(V.a)({isStacked:!0,vAxis:{title:"Nombre de missions"},hAxis:{title:"Journ\xe9e"},seriesType:"bars",series:{3:{type:"line"}}},Jt),chartWrapperParams:{view:{columns:n}}})},Kt=[{value:1,label:"Total"},{value:2,label:"Mort ou vif"},{value:3,label:"Victoire"}],qt=function(t){var e=t.stats,n=m.a.useState(1),a=Object(P.a)(n,2),i=a[0],c=a[1];return Object(D.jsxs)(D.Fragment,{children:[1===i?Object(D.jsx)(Bt,{stats:e[0],columns:[0,4]}):Object(D.jsx)(D.Fragment,{}),2===i?Object(D.jsx)(Bt,{stats:e[0],columns:[0,1,2,3,4]}):Object(D.jsx)(D.Fragment,{}),3===i?Object(D.jsx)(Bt,{stats:e[1],columns:[0,1,2,3,4,5]}):Object(D.jsx)(D.Fragment,{}),Object(D.jsx)(Gt.a,{defaultValue:Kt[0],options:Kt,onChange:function(t){(null===t||void 0===t?void 0:t.value)&&c(t.value)},menuPlacement:"top"})]})},$t=k.a.div(ht||(ht=Object(g.a)(["\n\twidth: 50%;\n"]))),Qt=k.a.p(mt||(mt=Object(g.a)(["\n\tcolor: var(--background-light);\n\tmargin: 5px 0 0 0;\n"]))),Xt=k.a.div(pt||(pt=Object(g.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n"]))),Zt=k.a.div(Ot||(Ot=Object(g.a)(["\n\ttext-align: left;\n"]))),te=k.a.div(xt||(xt=Object(g.a)(["\n\ttext-align: right;\n"]))),ee=k.a.div(ft||(ft=Object(g.a)(["\n\tdisplay: flex;\n\talign-content: center;\n\tjustify-content: center;\n\tflex-wrap: wrap;\n\tmargin-top: 20px;\n"]))),ne=k.a.div(vt||(vt=Object(g.a)(["\n\tflex-basis: ",";\n\twidth: ",';\n\t& *[dir="ltr"] {\n\t\tmargin: 0 auto;\n\t}\n'])),(function(t){return t.wide?"75%":"49%"}),(function(t){return t.wide?t.wide:"25%"})),ae=function(t){var e,n,a=Y(),i=t.id,c=T(et),s=T(nt),r=m.a.useState({}),o=Object(P.a)(r,2),u=o[0],l=o[1],d=m.a.useState({}),j=Object(P.a)(d,2),b=j[0],h=j[1],p=m.a.useState({}),O=Object(P.a)(p,2),x=O[0],f=O[1],g=m.a.useState({}),y=Object(P.a)(g,2),S=y[0],k=y[1],_=m.a.useState(new Array(0)),C=Object(P.a)(_,2),w=C[0],E=C[1];m.a.useEffect((function(){a(Q(i))}),[i]);var A=function(t,e){for(var n=1,a=0,i=new Date(e,t,n);i.getMonth()===t;)Yt.includes(i.getDay())&&a++,n++,i=new Date(e,t,n);return a};return m.a.useEffect((function(){s||(l(function(){var t=[["Role","Nombre"]];if(c){for(var e=0;e<Object.keys(c.roles.roles_count).length;e++){var n=Object.keys(c.roles.roles_count)[e];Object.values(c.roles.roles_count)[e]>0&&t.push([n,Object.values(c.roles.roles_count)[e]])}return t.sort((function(t,e){return"number"===typeof t[1]&&"number"===typeof e[1]?e[1]-t[1]:0}))}return[].concat(t,[["",0]])}()),h(function(){var t=[["Status fin","Nombre"]];if(c){var e=c.total_player_status.Vivant,n=c.total_player_status.Mort;return e&&t.push(["Vivant",e]),n&&t.push(["Mort",n]),e+n!==c.count_missions&&t.push(["Inconnu",c.count_missions-(e+n)]),t}return[].concat(t,[["",0]])}()),f(function(){var t=[["Verdict","Nombre"]];if(c){var e=c.total_mission_status.SUCCES,n=c.total_mission_status.ECHEC,a=c.total_mission_status.PVP;return e&&t.push(["Succ\xe8s",e]),n&&t.push(["Echec",n]),a&&t.push(["PVP",a]),e+n+a!==c.count_missions&&t.push(["Inconnu",c.count_missions-(e+n+a)]),t}return[].concat(t,[["",0]])}()),k(function(){var t=["Mois","Nombre","Maximum*"];if(c){for(var e=[],n=0;n<Object.keys(c.months).length;n++){var a=Object.keys(c.months)[n],i=v()(a).add(1,"day");Object.values(c.months)[n]>0&&e.push([a,Object.values(c.months)[n],A(i.month(),i.year())])}return[t].concat(e)}return[t,["",0,0]]}()),E(function(){var t=[["Journ\xe9e","Vivant","Mort","Inconnu","Total",""]],e=[["Journ\xe9e","Succ\xe8s","Echec","Inconnu","Total","PVP"]];if(c){for(var n=0;n<Object.keys(c.days).length;n++){var a=Object.keys(c.days)[n],i=Object.values(c.days)[n];if(i.count>0){var s=v()().day(parseInt(a)).format("dd");t.push([s,i.Vivant,i.Mort,i.Inconnu,i.count,0]),e.push([s,i.SUCCES,i.ECHEC,i.INCONNU,i.count,i.PVP])}}return[t,e]}return[[].concat(t,[["",0,0,0,0,0]]),[].concat(e,[["",0,0,0,0,0]])]}()))}),[s]),Object(D.jsxs)($t,{children:[s?Object(D.jsx)(ut,{}):Object(D.jsx)(D.Fragment,{}),Object(D.jsxs)(Qt,{children:["Mis \xe0 jour le : ",v()(null===c||void 0===c?void 0:c.updated).format("DD/MM/YYYY - HH:mm")]}),Object(D.jsxs)(Xt,{children:[Object(D.jsxs)(Zt,{children:[Object(D.jsxs)("h2",{children:["#",null===c||void 0===c?void 0:c.id," - ",null===c||void 0===c?void 0:c.name]}),Object(D.jsxs)("p",{children:[(null===c||void 0===c?void 0:c.count_missions)||0," missions au compteur"]}),Object(D.jsxs)("p",{children:["Derni\xe8re mission jou\xe9 le"," ",v()(null===c||void 0===c||null===(e=c.last_mission)||void 0===e?void 0:e.date).format("DD/MM/YYYY")," ",Object(D.jsx)(Vt,{element:null===c||void 0===c||null===(n=c.last_mission)||void 0===n?void 0:n.mission_status})]})]}),Object(D.jsx)(te,{children:Object(D.jsx)(Rt,{player:c})})]}),Object(D.jsx)(it,{}),Object(D.jsxs)(ee,{children:[Object(D.jsxs)(ne,{children:[Object(D.jsx)("h3",{children:"Mort ou vif"}),Object(D.jsx)(Tt.a,{width:"100%",height:"auto",chartType:"PieChart",loader:Object(D.jsx)("div",{children:"Waiting Data"}),data:b,options:Object(V.a)({},Jt)}),Object(D.jsxs)("p",{children:["Ratio :"," ",((null===c||void 0===c?void 0:c.total_player_status.Vivant)/(null===c||void 0===c?void 0:c.total_player_status.Mort)).toLocaleString(void 0,{maximumFractionDigits:2})]}),Object(D.jsxs)("p",{children:["A \xe9t\xe9 vivant"," ",(null===c||void 0===c?void 0:c.streak.vivant.count)>(null===c||void 0===c?void 0:c.streak.vivant.max)?null===c||void 0===c?void 0:c.streak.vivant.count:null===c||void 0===c?void 0:c.streak.vivant.max," ","fois sans interruption"]}),Object(D.jsxs)("p",{children:["A \xe9t\xe9 mort"," ",(null===c||void 0===c?void 0:c.streak.mort.count)>(null===c||void 0===c?void 0:c.streak.mort.max)?null===c||void 0===c?void 0:c.streak.mort.count:null===c||void 0===c?void 0:c.streak.mort.max," ","fois sans interruption"]})]}),Object(D.jsx)(ct,{}),Object(D.jsxs)(ne,{children:[Object(D.jsx)("h3",{children:"Victoire"}),Object(D.jsx)(Tt.a,{width:"100%",height:"auto",chartType:"PieChart",loader:Object(D.jsx)("div",{children:"Waiting Data"}),data:x,options:Object(V.a)({},Jt)}),Object(D.jsxs)("p",{children:["Ratio :"," ",((null===c||void 0===c?void 0:c.total_mission_status.SUCCES)/(null===c||void 0===c?void 0:c.total_mission_status.ECHEC)).toLocaleString(void 0,{maximumFractionDigits:2})]})]}),Object(D.jsxs)(ne,{wide:"100%",children:[Object(D.jsx)("h3",{children:"Roles"}),Object(D.jsx)(Tt.a,{width:"100%",height:"300px",chartType:"ColumnChart",loader:Object(D.jsx)("div",{children:"Waiting Data"}),data:u,options:{isStacked:!0,legend:"none",vAxis:{title:"Nombre de missions"},hAxis:{title:"Role",textPosition:"none"},colors:["#ADEBAD"]}})]}),Object(D.jsxs)(ne,{children:[Object(D.jsx)("h3",{children:"Nombre de missions par mois"}),Object(D.jsx)(Tt.a,{width:"100%",height:"250px",chartType:"LineChart",loader:Object(D.jsx)("div",{children:"Waiting Data"}),data:S,options:Object(V.a)({isStacked:!0,vAxis:{title:"Nombre de missions",minValue:0},hAxis:{title:"Mois"},series:{1:{lineDashStyle:[4,4]}}},Jt)}),Object(D.jsx)("p",{style:{fontSize:"0.7em"},children:'*Le nombre "maximum" repr\xe9sente le nombre de soirs usuellement jou\xe9e dans le mois'})]}),Object(D.jsxs)(ne,{children:[Object(D.jsx)("h3",{children:"Nombre de missions par journ\xe9e"}),Object(D.jsx)(qt,{stats:w})]})]})]})},ie=k.a.div(gt||(gt=Object(g.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-content: center;\n"]))),ce=k.a.p(yt||(yt=Object(g.a)(["\n\tcolor: var(--background-light);\n\tmargin: 5px 0 0 0;\n"]))),se=function(){var t=Y(),e=T(tt),n=T(nt),a=m.a.useState(),i=Object(P.a)(a,2),c=i[0],s=i[1],r=m.a.useState(),o=Object(P.a)(r,2),u=o[0],l=o[1];m.a.useEffect((function(){e.data.length<=0?t($()):(s(d()),l(j()))}),[e]);var d=function(){var t=["Joueur","Nombre de missions"];return e.data.length>0?[t].concat(Object(U.a)(e.data.slice().sort((function(t,e){return e.count_missions-t.count_missions})).slice(0,3).map((function(t){return[t.name,t.count_missions]})))):[t,["",0]]},j=function(){if(e.data.length>0){var t,n=0,a=Object(Ut.a)(e.data);try{for(a.s();!(t=a.n()).done;){n+=t.value.count_missions}}catch(i){a.e(i)}finally{a.f()}return n/e.data.length}return 0};return Object(D.jsxs)("div",{children:[n?Object(D.jsx)(ut,{}):Object(D.jsx)(D.Fragment,{}),Object(D.jsxs)(ce,{children:["Mis \xe0 jour le :"," ",v()(null===e||void 0===e?void 0:e.updated).format("DD/MM/YYYY - HH:mm:ss")]}),Object(D.jsxs)("h2",{children:[null===e||void 0===e?void 0:e.data.length," joueurs ont \xe9t\xe9 trouv\xe9s"]}),Object(D.jsx)(ie,{children:Object(D.jsx)(Tt.a,{width:"auto",height:"auto",chartType:"ColumnChart",loader:Object(D.jsx)("div",{children:"Loading Chart"}),data:c,options:{isStacked:!0,chart:{title:"3 plus gros joueurs"},legend:"none",vAxis:{title:"Nombre de missions"},colors:["#ADEBAD"]}})}),Object(D.jsxs)("p",{children:["Chaque joueur a jou\xe9"," ",null===u||void 0===u?void 0:u.toLocaleString(void 0,{maximumFractionDigits:0})," ","missions en moyenne"]})]})},re=n(71),oe=k.a.div(St||(St=Object(g.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\twidth: 15%;\n\n\t& > label {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\ttext-align: left;\n\t\t& > * {\n\t\t\tmargin: 5px 0 10px 0;\n\t\t\t& > div:first-of-type {\n\t\t\t\tborder-radius: 5px 5px 0 0;\n\t\t\t\tborder: 0;\n\t\t\t\tborder-bottom: 1px solid var(--text);\n\t\t\t}\n\t\t}\n\t}\n"]))),ue=function(t){var e=t.setPlayer,n=Y(),a=Object(S.g)(),i=T(tt),c=m.a.useState(new Array(0)),s=Object(P.a)(c,2),r=s[0],o=s[1],u=m.a.useRef(null);return m.a.useEffect((function(){i.data.length>0?o(i.data.map((function(t){return{name:t.name,value:t.id}}))):o([{name:"R\xe9cup\xe9rer les joueurs",value:0}])}),[i]),Object(D.jsx)(oe,{children:Object(D.jsxs)("label",{children:["Joueur :",Object(D.jsx)(re.a,{ref:u,options:r,onChange:function(t){t&&(0===t.value?n($()):(e(t.value.toString()),window.history.replaceState(null,"","#"+a.pathname.replace(/(\b\/.*$|$)/,"/"+t.value.toString()))))},onKeyDown:function(t){"Delete"===t.key&&u.current&&u.current.select&&(u.current.select.select.clearValue(),e(""),window.history.replaceState(null,"","#"+a.pathname.replace(/(\b\/.*$|$)/,"")))},components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null},Placeholder:function(){return null}},getOptionLabel:function(t){return"".concat(0!=t.value?"string"!==typeof t.value||parseInt(t.value)?"#".concat(t.value):t.value:"").concat(t.value&&t.name?" - ":"").concat(t.name||"")}})]})})},le=k.a.div(kt||(kt=Object(g.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),de=function(t){var e=t.playerID,n=m.a.useState(e),a=Object(P.a)(n,2),i=a[0],c=a[1];return Object(D.jsxs)(le,{children:[Object(D.jsx)(ue,{setPlayer:c}),Object(D.jsx)(it,{width:"50%"}),i?Object(D.jsx)(ae,{id:i}):Object(D.jsx)(se,{})]})},je=k.a.h1(_t||(_t=Object(g.a)(["\n    visibility: hidden;\n    margin: 0;\n"]))),be=function(){var t=Object(S.h)().id;return Object(D.jsxs)("div",{children:[Object(D.jsx)(je,{children:"Joueurs"}),Object(D.jsx)(de,{playerID:t})]})},he=n.p+"static/media/canardhurt.ed18cd85.png",me=k.a.div(Ct||(Ct=Object(g.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n"]))),pe=function(){return Object(D.jsxs)(me,{children:[Object(D.jsx)("h1",{children:"404"}),Object(D.jsx)("h2",{children:"Page non trouv\xe9e"}),Object(D.jsx)("img",{src:he}),Object(D.jsx)("p",{children:"Alors l\xe0, on vous a perdu..."})]})},Oe=k.a.div(Dt||(Dt=Object(g.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n"]))),xe=function(){return Object(D.jsxs)(Oe,{children:[Object(D.jsx)("h1",{children:"501"}),Object(D.jsx)("h2",{children:"Page en cours de construction"}),Object(D.jsxs)("p",{children:['"Vous pouvez attendre le temps que je bosse ?"',Object(D.jsx)("br",{}),Object(D.jsx)("a",{href:"https://github.com/oxypomme",children:"OxyTom"}),", 2021"]})]})},fe=Object(R.b)("maps/fetchMapList",Object(H.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(q()(B.a,"/api/maps"));case 2:return t.next=4,t.sent.json();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))),ve=Object(R.c)({name:"map",initialState:{mapList:{maps:[],updated:""},isFetching:!1},extraReducers:(wt={},Object(J.a)(wt,fe.pending.type,(function(t){return Object(V.a)(Object(V.a)({},t),{},{isFetching:!0})})),Object(J.a)(wt,fe.fulfilled.type,(function(t,e){var n=e.payload;return Object(V.a)(Object(V.a)({},t),{},{mapList:n,isFetching:!1})})),Object(J.a)(wt,fe.rejected.type,(function(t,e){var n=e.error;return console.error(n),Object(V.a)(Object(V.a)({},t),{},{isFetching:!1})})),wt),reducers:{}}),ge=function(t){return t.map},ye=Object(G.a)(ge,(function(t){return t.mapList})),Se=Object(G.a)(ge,(function(t){return t.isFetching})),ke=ve.reducer,_e=k.a.div(Et||(Et=Object(g.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n"]))),Ce=k.a.p(At||(At=Object(g.a)(["\n    color: var(--background-light);\n    margin: 5px 0 0 0;\n"]))),De=function(){var t=Y(),e=T(ye),n=T(Se),a=m.a.useState(),i=Object(P.a)(a,2),c=i[0],s=i[1];m.a.useEffect((function(){(null===e||void 0===e?void 0:e.maps.length)<=0?t(fe()):s(r())}),[e]);var r=function(){var t=["Map","Nombre de missions"];return(null===e||void 0===e?void 0:e.maps.length)>0?[t].concat(Object(U.a)(null===e||void 0===e?void 0:e.maps.slice().sort((function(t,e){return t.mission_count-e.mission_count})).slice(0,5).map((function(t){return[t.name,t.mission_count]})))):[t,["",0]]};return Object(D.jsxs)("div",{children:[n?Object(D.jsx)(ut,{}):Object(D.jsx)(D.Fragment,{}),Object(D.jsxs)(Ce,{children:["Mis \xe0 jour le : ",v()(null===e||void 0===e?void 0:e.updated).format("DD/MM/YYYY - HH:mm")]}),Object(D.jsxs)(_e,{children:[Object(D.jsx)("h2",{children:"Maps les moins jou\xe9es"}),Object(D.jsx)(Tt.a,{width:"600px",height:"300px",chartType:"ColumnChart",loader:Object(D.jsx)("div",{children:"Loading Chart"}),data:c,options:{isStacked:!0,hAxis:{title:"Map"},legend:"none",vAxis:{title:"Nombre de missions"},colors:["#ADEBAD"]}})]})]})},we=function(){return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(De,{})})},Ee=n(72),Ae=k.a.footer(Ft||(Ft=Object(g.a)(["\n    background-color: var(--background-dark);\n    text-align: center;\n    font-size: 14px;\n    height: var(--footer-size);\n    padding: 5px;\n    \n    position:absolute;\n    width:100%;\n    bottom:0px;\n"]))),Fe=k.a.span(Lt||(Lt=Object(g.a)(["\n    text-decoration: underline;\n"]))),Le=k.a.a(Mt||(Mt=Object(g.a)(["\n    ","\n    text-decoration: none;\n    & > svg{\n        ","\n        transition: opacity 0.25s;\n    }\n    &:hover > svg{\n        opacity: 0.75;\n    }\n"])),(function(t){return t.VAlign?"vertical-align: middle;":""}),(function(t){return t.margin?"margin:"+t.margin+";":""})),Me=function(){return Object(D.jsxs)(Ae,{children:[Object(D.jsxs)("p",{children:["All icons used are from ",Object(D.jsxs)(Le,{href:"https://fontawesome.com",children:[Object(D.jsx)(_.a,{icon:Ee.a,color:"#339af0"})," ",Object(D.jsx)(Fe,{children:"Font Awesome"})]}),"."]}),Object(D.jsx)("p",{children:Object(D.jsx)("a",{href:"https://github.com/oxypomme/gdcgraph/graphs/contributors",children:"Liste des contributeurs"})})]})},Ne=k.a.div(Nt||(Nt=Object(g.a)(["\n  text-align: center;\n"]))),Ie=function(){return Object(D.jsxs)(y.a,{basename:"/",children:[Object(D.jsx)(F,{}),Object(D.jsx)(Ne,{children:Object(D.jsxs)(S.c,{children:[Object(D.jsx)(S.a,{exact:!0,path:"/",component:I}),Object(D.jsx)(S.a,{exact:!0,path:["/players","/players/:id"],component:be}),Object(D.jsx)(S.a,{exact:!0,path:["/missions","/missions/:id"],component:xe}),Object(D.jsx)(S.a,{exact:!0,path:"/maps",component:we}),Object(D.jsx)(S.a,{component:pe})]})}),Object(D.jsx)(Me,{})]})},Pe=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,98)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),a(t),i(t),c(t),s(t)}))},Ve=n(15),Ye=Object(Ve.c)({player:at,map:ke});var Te=Object(R.a)({reducer:Ye});v.a.locale("fr"),O.a.render(Object(D.jsx)(m.a.StrictMode,{children:Object(D.jsx)(x.a,{store:Te,children:Object(D.jsx)(Ie,{})})}),document.getElementById("root")),Pe()}},[[96,1,2]]]);
//# sourceMappingURL=main.8fb4cc00.chunk.js.map