(this.webpackJsonpgdcgraph=this.webpackJsonpgdcgraph||[]).push([[0],{38:function(e){e.exports=JSON.parse('{"a":"https://oxypomme.fr/gdc/"}')},60:function(e,n,t){},67:function(e,n,t){"use strict";t.r(n);var c,i,r,a,s,o,u=t(0),l=t.n(u),j=t(33),d=t.n(j),b=t(29),h=(t(60),t(4)),f=t(21),x=t(5),O=t(6),p=t(18),g=t(19),v=t(1),m=O.a.nav(c||(c=Object(h.a)(["\n    height: var(--nav-size);\n    width: 100%;\n    position: fixed;\n    float: left;\n    top: 0;\n    z-index: 9999;\n"]))),y=O.a.ul(i||(i=Object(h.a)(["\n    height: 100%;\n    list-style-type: none;\n    margin: 0;\n    overflow: hidden;\n    background-color: var(--background-dark);\n"]))),S=O.a.li(r||(r=Object(h.a)(["\n    height: 100%;\n    float: ",";\n\n    & > a {\n        display: inline-block;\n        color: var(--text);\n        text-align: center;\n        padding: 14px 16px;\n        text-decoration: none;\n        height: 100%;\n        &:hover {\n            background-color: var(--background-light);\n        }\n        &.active {\n            background-color: var(--accent1);\n        }\n    }\n\n    & svg {\n        margin-right: 5px;\n    }\n"])),(function(e){return e.right?"right":"left"})),k=function(){return Object(v.jsx)(m,{id:"navbar",children:Object(v.jsxs)(y,{children:[Object(v.jsx)(S,{children:Object(v.jsxs)(f.b,{exact:!0,to:"/",children:[Object(v.jsx)(p.a,{icon:g.b}),"GDC Graph"]})}),Object(v.jsx)(S,{children:Object(v.jsxs)(f.b,{to:"/players",children:[Object(v.jsx)(p.a,{icon:g.e}),"Joueurs"]})}),Object(v.jsx)(S,{children:Object(v.jsxs)(f.b,{exact:!0,to:"/missions",children:[Object(v.jsx)(p.a,{icon:g.c}),"Missions"]})}),Object(v.jsx)(S,{right:!0,children:Object(v.jsxs)("a",{href:"https://grecedecanards.fr/GDCStats/",children:[Object(v.jsx)(p.a,{icon:g.a}),"GDC Stats"]})})]})})},D=O.a.div(a||(a=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n"]))),E=function(){return Object(v.jsxs)(D,{children:[Object(v.jsx)("h1",{children:"501"}),Object(v.jsx)("h2",{children:"Page en cours de construction"}),Object(v.jsxs)("p",{children:['"Vous pouvez attendre le temps que je bosse ?"',Object(v.jsx)("br",{}),Object(v.jsx)("a",{href:"github.com/oxypomme",children:"OxyTom"}),", 2021"]})]})},F=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(E,{})})},C=t(22),I=t(7),w=t(28),L=function(){return Object(b.b)()},A=b.c,N=t(16),_=t(30),P=t(32),V=t.n(P),U=t(46),z=t(23),T=t(35),W=t(38),J=t(39),K=t.n(J),M=Object(z.b)("player/fetchPlayerList",Object(U.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(K()(W.a,"/players"));case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))),B=Object(z.b)("player/fetchPlayer",function(){var e=Object(U.a)(V.a.mark((function e(n,t){var c,i,r,a,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.getState,i=n,parseInt(n)){e.next=8;break}return e.next=5,fetch(K()(W.a,"/players/name/".concat(n)));case 5:return e.next=7,e.sent.json();case 7:i=e.sent.id;case 8:if(r=c().player.players,-1===(a=r.findIndex((function(e){return e.infos.id==parseInt(i)})))){e.next=12;break}return e.abrupt("return",r[a]);case 12:return e.next=14,fetch(K()(W.a,"/players/".concat(i)));case 14:return e.next=16,e.sent.json();case 16:if(!(s=e.sent).infos.name){e.next=19;break}return e.abrupt("return",s);case 19:return e.abrupt("return",null);case 20:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),G=Object(z.c)({name:"player",initialState:{playerList:[],players:[],lastFetchIndex:-1,isFetching:!1},extraReducers:(s={},Object(N.a)(s,M.pending.type,(function(e){return Object(I.a)(Object(I.a)({},e),{},{isFetching:!0})})),Object(N.a)(s,M.fulfilled.type,(function(e,n){var t=n.payload;return Object(I.a)(Object(I.a)({},e),{},{playerList:t,isFetching:!1})})),Object(N.a)(s,M.rejected.type,(function(e,n){var t=n.error;return console.error(t),Object(I.a)(Object(I.a)({},e),{},{isFetching:!1})})),Object(N.a)(s,B.pending.type,(function(e){return Object(I.a)(Object(I.a)({},e),{},{isFetching:!0})})),Object(N.a)(s,B.fulfilled.type,(function(e,n){var t=n.payload,c=Object(_.a)(e.players),i=-1;return t&&-1===(i=c.findIndex((function(e){return e.infos.id==t.infos.id})))&&(i=c.length,c=[].concat(Object(_.a)(c),[t])),Object(I.a)(Object(I.a)({},e),{},{players:c,lastFetchIndex:i,isFetching:!1})})),Object(N.a)(s,B.rejected.type,(function(e,n){var t=n.error;return console.error(t),Object(I.a)(Object(I.a)({},e),{},{isFetching:!1})})),s),reducers:{}}),R=function(e){return e.player},q=Object(T.a)(R,(function(e){return e.playerList})),H=Object(T.a)(R,(function(e){return e.players[e.lastFetchIndex]})),Q=Object(T.a)(R,(function(e){return e.isFetching})),X=G.reducer;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED"}(o||(o={}));var Y,Z=o;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ALIVE=1]="ALIVE",e[e.DEAD=2]="DEAD"}(Y||(Y={}));var $,ee,ne,te,ce,ie,re,ae,se,oe,ue=Y,le={colors:["#81d5ff","#ee9e9e","#fceb96"],legend:{position:"bottom"},pieSliceTextStyle:{color:"black"}},je=t(36),de=Object(je.a)($||($=Object(h.a)(["\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(360deg);\n    }\n"]))),be=O.a.div(ee||(ee=Object(h.a)(["\n    position: absolute;\n    top: 0;\n    left:0 ;\n    z-index: 9998;\n    background-color: black;\n    opacity: 0.5;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    & > svg {\n        animation: "," 2s linear infinite;\n    }\n"])),de),he=function(){return Object(v.jsx)(be,{children:Object(v.jsx)(p.a,{icon:g.d,color:"white",size:"6x"})})},fe=O.a.span(ne||(ne=Object(h.a)(["\n    background-color: ",";\n    font-size: 8pt;\n    padding: 2px;\n    border-radius: 5px;\n    vertical-align: text-top;\n"])),(function(e){return e.color})),xe=function(e){var n=e.element,t=l.a.useState(""),c=Object(C.a)(t,2),i=c[0],r=c[1],a=l.a.useState(""),s=Object(C.a)(a,2),o=s[0],u=s[1];return l.a.useEffect((function(){switch(n){case Z.SUCCESS:r("#81d5ff"),u("Succ\xe8s");break;case ue.ALIVE:r("#81d5ff"),u("Vivant");break;case Z.FAILED:r("#ee9e9e"),u("Echec");break;case ue.DEAD:r("#ee9e9e"),u("Mort");break;default:r("#fceb96"),u("Inconnu")}}),[n]),Object(v.jsx)(fe,{color:i,children:o})},Oe=O.a.div(te||(te=Object(h.a)(["\n    display: flex;\n    align-content: center;\n    justify-content: center;\n"]))),pe=function(e){var n=L(),t=e.id,c=A(H),i=A(Q);l.a.useEffect((function(){n(B(t))}),[t]);var r=function(e){return c?c.missions.filter((function(n){return n.player_status===e})).length:0},a=function(e){return c?c.missions.filter((function(n){return n.mission_status===e})).length:0};return Object(v.jsxs)("div",{children:[i?Object(v.jsx)(he,{}):Object(v.jsx)(v.Fragment,{}),Object(v.jsxs)("h2",{children:["#",null===c||void 0===c?void 0:c.infos.id," - ",null===c||void 0===c?void 0:c.infos.name]}),Object(v.jsxs)("p",{children:[null===c||void 0===c?void 0:c.infos.count_missions," missions au compteur"]}),Object(v.jsxs)("p",{children:["Derni\xe8re mission jou\xe9 le ",null===c||void 0===c?void 0:c.missions[0].date," ",Object(v.jsx)(xe,{element:null===c||void 0===c?void 0:c.missions[0].mission_status})]}),Object(v.jsxs)(Oe,{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Mort ou vif ?"}),Object(v.jsxs)("p",{children:["Ratio : ",(r(ue.ALIVE)/r(ue.DEAD)).toLocaleString(void 0,{maximumFractionDigits:2})]}),Object(v.jsx)(w.a,{width:"300px",height:"auto",chartType:"PieChart",loader:Object(v.jsx)("div",{children:"Waiting Data"}),data:function(){var e=[["Status fin","Nombre"]];if(c){var n=r(ue.ALIVE),t=r(ue.DEAD);n&&e.push(["Vivant",n]),t&&e.push(["Mort",t]),n+t!==c.infos.count_missions&&e.push(["Inconnu",c.infos.count_missions-(n+t)])}return e}(),options:Object(I.a)({},le)})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Victoire ?"}),Object(v.jsxs)("p",{children:["Ratio : ",(a(Z.SUCCESS)/a(Z.FAILED)).toLocaleString(void 0,{maximumFractionDigits:2})]}),Object(v.jsx)(w.a,{width:"300px",height:"auto",chartType:"PieChart",loader:Object(v.jsx)("div",{children:"Waiting Data"}),data:function(){var e=[["Verdict","Nombre"]];if(c){var n=a(Z.SUCCESS),t=a(Z.FAILED);n&&e.push(["Succ\xe8s",n]),t&&e.push(["Echec",t]),n+t!==c.infos.count_missions&&e.push(["Inconnu",c.infos.count_missions-(n+t)])}return e}(),options:Object(I.a)({},le)})]})]})]})},ge=t(51),ve=O.a.div(ce||(ce=Object(h.a)(["\n    display: flex;\n    justify-content: center;\n    align-content: center;\n"]))),me=function(){var e=L(),n=A(q),t=A(Q);l.a.useEffect((function(){n.length<=0&&e(M())}),[n]);return Object(v.jsxs)("div",{children:[t?Object(v.jsx)(he,{}):Object(v.jsx)(v.Fragment,{}),Object(v.jsxs)("h2",{children:[null===n||void 0===n?void 0:n.length," joueurs ont \xe9t\xe9s trouv\xe9s"]}),Object(v.jsx)(ve,{children:Object(v.jsx)(w.a,{width:"auto",height:"auto",chartType:"ColumnChart",loader:Object(v.jsx)("div",{children:"Loading Chart"}),data:function(){var e=["Player","Count"];return n.length>0?[e].concat(Object(_.a)(n.slice().sort((function(e,n){return n.count_missions-e.count_missions})).slice(0,3).map((function(e){return[e.name,e.count_missions]})))):[e]}(),options:{isStacked:!0,chart:{title:"3 plus gros joueurs"},legend:"none",vAxis:{title:"Nombre de missions"},colors:["#ADEBAD"]}})}),Object(v.jsxs)("p",{children:["Chaque joueur a jou\xe9 ",function(){if(n.length>0){var e,t=0,c=Object(ge.a)(n);try{for(c.s();!(e=c.n()).done;){t+=e.value.count_missions}}catch(i){c.e(i)}finally{c.f()}return t/n.length}return 0}().toLocaleString(void 0,{maximumFractionDigits:0})," missions en moyenne"]})]})},ye=O.a.div(ie||(ie=Object(h.a)(["\n    border-bottom: 1px solid ",";\n    ","\n"])),(function(e){return e.color?e.color:"var(--background-light)"}),(function(e){return e.width?"width: ".concat(e.width," ;"):""})),Se=O.a.div(re||(re=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),ke=O.a.div(ae||(ae=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    & > label {\n        display: flex;\n        flex-direction: column;\n        width: min-content;\n        text-align: left;\n        & > input {\n            margin: 5px 0 20px 0;\n            border-radius: 5px 5px 0 0;\n            border: 0;\n            border-bottom: 1px solid var(--text);\n            padding: 8px;\n            outline: 0;\n            transition: .1s background;\n\n            &:focus{\n                background: var(--background-dark);\n            }\n        }\n    }\n"]))),De=function(e){var n=e.playerID,t=l.a.useState(n||""),c=Object(C.a)(t,2),i=c[0],r=c[1],a=l.a.useState(n),s=Object(C.a)(a,2),o=s[0],u=s[1];return Object(v.jsxs)(Se,{children:[Object(v.jsx)(ke,{children:Object(v.jsxs)("label",{children:["Nom ou # du joueur :",Object(v.jsx)("input",{type:"text",value:i,onChange:function(e){r(e.target.value)},onBlur:function(e){u(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&u(e.target.value)}})]})}),Object(v.jsx)(ye,{width:"50%"}),o?Object(v.jsx)(pe,{id:o}):Object(v.jsx)(me,{})]})},Ee=function(){var e=Object(x.f)().id;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{style:{visibility:"hidden"},children:"Joueurs"}),Object(v.jsx)(De,{playerID:e})]})},Fe=t.p+"static/media/canardhurt.ed18cd85.png",Ce=O.a.div(se||(se=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n"]))),Ie=function(){return Object(v.jsxs)(Ce,{children:[Object(v.jsx)("h1",{children:"404"}),Object(v.jsx)("h2",{children:"Page non trouv\xe9e"}),Object(v.jsx)("img",{src:Fe}),Object(v.jsx)("p",{children:"Alors l\xe0, on vous a perdu..."})]})},we=O.a.div(oe||(oe=Object(h.a)(["\n  margin-top: var(--nav-size);\n  text-align: center;\n  height: calc(100vh - var(--nav-size));\n"]))),Le=function(){return Object(v.jsxs)(f.a,{basename:"/",children:[Object(v.jsx)(k,{}),Object(v.jsx)(we,{children:Object(v.jsxs)(x.c,{children:[Object(v.jsx)(x.a,{exact:!0,path:"/",component:F}),Object(v.jsx)(x.a,{exact:!0,path:["/players","/players/:id"],component:Ee}),Object(v.jsx)(x.a,{exact:!0,path:["/missions","/missions/:id"],component:E}),Object(v.jsx)(x.a,{component:Ie})]})})]})},Ae=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,68)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,r=n.getLCP,a=n.getTTFB;t(e),c(e),i(e),r(e),a(e)}))},Ne=t(10),_e=Object(Ne.c)({player:X});var Pe=Object(z.a)({reducer:_e});d.a.render(Object(v.jsx)(l.a.StrictMode,{children:Object(v.jsx)(b.a,{store:Pe,children:Object(v.jsx)(Le,{})})}),document.getElementById("root")),Ae()}},[[67,1,2]]]);
//# sourceMappingURL=main.471aaeef.chunk.js.map