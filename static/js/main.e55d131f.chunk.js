(this.webpackJsonpgdcgraph=this.webpackJsonpgdcgraph||[]).push([[0],{37:function(n){n.exports=JSON.parse('{"a":"https://oxypomme.fr/gdc/"}')},60:function(n,e,t){},67:function(n,e,t){"use strict";t.r(e);var c,i,r,a,s,o,u=t(0),l=t.n(u),j=t(32),d=t.n(j),b=t(28),h=(t(60),t(5)),x=t(20),f=t(4),O=t(6),p=t(19),g=t(21),v=t(1),m=O.a.nav(c||(c=Object(h.a)(["\n    height: var(--nav-size);\n    width: 100%;\n    position: fixed;\n    float: left;\n    top: 0;\n    z-index: 9999;\n"]))),y=O.a.ul(i||(i=Object(h.a)(["\n    height: 100%;\n    list-style-type: none;\n    margin: 0;\n    overflow: hidden;\n    background-color: var(--background-dark);\n"]))),S=O.a.li(r||(r=Object(h.a)(["\n    height: 100%;\n    float: left;\n\n    & > a {\n        display: inline-block;\n        color: var(--text);\n        text-align: center;\n        padding: 14px 16px;\n        text-decoration: none;\n        height: 100%;\n    }\n\n    & > a:hover {\n        background-color: var(--background-light);\n    }\n\n    & > a.active {\n        background-color: var(--accent1);\n    }\n\n    & svg {\n        margin-right: 5px;\n    }\n"]))),F=function(){return Object(v.jsx)(m,{id:"navbar",children:Object(v.jsxs)(y,{children:[Object(v.jsx)(S,{children:Object(v.jsxs)(x.b,{exact:!0,to:"/",children:[Object(v.jsx)(p.a,{icon:g.a}),"GDC Graph"]})}),Object(v.jsx)(S,{children:Object(v.jsxs)(x.b,{to:"/players",children:[Object(v.jsx)(p.a,{icon:g.d}),"Joueurs"]})}),Object(v.jsx)(S,{children:Object(v.jsxs)(x.b,{exact:!0,to:"/missions",children:[Object(v.jsx)(p.a,{icon:g.b}),"Missions"]})})]})})},k=O.a.div(a||(a=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n"]))),D=function(){return Object(v.jsxs)(k,{children:[Object(v.jsx)("h1",{children:"501"}),Object(v.jsx)("h2",{children:"Page en cours de construction"}),Object(v.jsxs)("p",{children:['"Vous pouvez attendre le temps que je bosse ?"',Object(v.jsx)("br",{}),Object(v.jsx)("a",{href:"github.com/oxypomme",children:"OxyTom"}),", 2021"]})]})},E=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(D,{})})},I=t(46),C=t(7),w=t(27),L=function(){return Object(b.b)()},N=b.c,A=t(16),_=t(29),P=t(31),U=t.n(P),V=t(45),z=t(22),T=t(34),W=t(37),J=t(38),K=t.n(J),B=Object(z.b)("player/fetchPlayerList",Object(V.a)(U.a.mark((function n(){return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(K()(W.a,"/players"));case 2:return n.next=4,n.sent.json();case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))),M=Object(z.b)("player/fetchPlayer",function(){var n=Object(V.a)(U.a.mark((function n(e,t){var c,i,r,a,s;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=t.getState,i=e,parseInt(e)){n.next=8;break}return n.next=5,fetch(K()(W.a,"/players/name/".concat(e)));case 5:return n.next=7,n.sent.json();case 7:i=n.sent.id;case 8:if(r=c().player.players,-1===(a=r.findIndex((function(n){return n.infos.id==parseInt(i)})))){n.next=12;break}return n.abrupt("return",r[a]);case 12:return n.next=14,fetch(K()(W.a,"/players/".concat(i)));case 14:return n.next=16,n.sent.json();case 16:if(!(s=n.sent).infos.name){n.next=19;break}return n.abrupt("return",s);case 19:return n.abrupt("return",null);case 20:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()),R=Object(z.c)({name:"player",initialState:{playerList:[],players:[],lastFetchIndex:-1,isFetching:!1},extraReducers:(s={},Object(A.a)(s,B.pending.type,(function(n){return Object(C.a)(Object(C.a)({},n),{},{isFetching:!0})})),Object(A.a)(s,B.fulfilled.type,(function(n,e){var t=e.payload;return Object(C.a)(Object(C.a)({},n),{},{playerList:t,isFetching:!1})})),Object(A.a)(s,B.rejected.type,(function(n,e){var t=e.error;return console.error(t),Object(C.a)(Object(C.a)({},n),{},{isFetching:!1})})),Object(A.a)(s,M.pending.type,(function(n){return Object(C.a)(Object(C.a)({},n),{},{isFetching:!0})})),Object(A.a)(s,M.fulfilled.type,(function(n,e){var t=e.payload,c=Object(_.a)(n.players),i=-1;return t&&-1===(i=c.findIndex((function(n){return n.infos.id==t.infos.id})))&&(i=c.length,c=[].concat(Object(_.a)(c),[t])),Object(C.a)(Object(C.a)({},n),{},{players:c,lastFetchIndex:i,isFetching:!1})})),Object(A.a)(s,M.rejected.type,(function(n,e){var t=e.error;return console.error(t),Object(C.a)(Object(C.a)({},n),{},{isFetching:!1})})),s),reducers:{}}),q=function(n){return n.player},G=Object(T.a)(q,(function(n){return n.playerList})),H=Object(T.a)(q,(function(n){return n.players[n.lastFetchIndex]})),Q=Object(T.a)(q,(function(n){return n.isFetching})),X=R.reducer;!function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.SUCCESS=1]="SUCCESS",n[n.FAILED=2]="FAILED"}(o||(o={}));var Y,Z=o;!function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.ALIVE=1]="ALIVE",n[n.DEAD=2]="DEAD"}(Y||(Y={}));var $,nn,en,tn,cn,rn,an,sn,on,un=Y,ln={colors:["#81d5ff","#ee9e9e","#fceb96"],legend:{position:"bottom"},pieSliceTextStyle:{color:"black"}},jn=t(35),dn=Object(jn.a)($||($=Object(h.a)(["\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(360deg);\n    }\n"]))),bn=O.a.div(nn||(nn=Object(h.a)(["\n    position: absolute;\n    top: 0;\n    left:0 ;\n    z-index: 9998;\n    background-color: black;\n    opacity: 0.5;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    & > svg {\n        animation: "," 2s linear infinite;\n    }\n"])),dn),hn=function(){return Object(v.jsx)(bn,{children:Object(v.jsx)(p.a,{icon:g.c,color:"white",size:"6x"})})},xn=O.a.div(en||(en=Object(h.a)(["\n    display: flex;\n    align-content: center;\n    justify-content: center;\n"]))),fn=function(n){var e=L(),t=n.id,c=N(H),i=N(Q);l.a.useEffect((function(){e(M(t))}),[t]);var r=function(n){return c?c.missions.filter((function(e){return e.player_status===n})).length:0},a=function(n){return c?c.missions.filter((function(e){return e.mission_status===n})).length:0};return Object(v.jsxs)("div",{children:[i?Object(v.jsx)(hn,{}):Object(v.jsx)(v.Fragment,{}),Object(v.jsxs)("h2",{children:["#",null===c||void 0===c?void 0:c.infos.id," - ",null===c||void 0===c?void 0:c.infos.name]}),Object(v.jsxs)("p",{children:[null===c||void 0===c?void 0:c.infos.count_missions," missions au compteur"]}),Object(v.jsxs)(xn,{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Mort ou vif ?"}),Object(v.jsxs)("p",{children:["Ratio : ",(r(un.ALIVE)/r(un.DEAD)).toLocaleString(void 0,{maximumFractionDigits:2})]}),Object(v.jsx)(w.a,{width:"300px",height:"auto",chartType:"PieChart",loader:Object(v.jsx)("div",{children:"Waiting Data"}),data:function(){var n=[["Status fin","Nombre"]];if(c){var e=r(un.ALIVE),t=r(un.DEAD);e&&n.push(["Vivant",e]),t&&n.push(["Mort",t]),e+t!==c.infos.count_missions&&n.push(["Inconnu",c.infos.count_missions-(e+t)])}return n}(),options:Object(C.a)({},ln)})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Victoire ?"}),Object(v.jsxs)("p",{children:["Ratio : ",(a(Z.SUCCESS)/a(Z.FAILED)).toLocaleString(void 0,{maximumFractionDigits:2})]}),Object(v.jsx)(w.a,{width:"300px",height:"auto",chartType:"PieChart",loader:Object(v.jsx)("div",{children:"Waiting Data"}),data:function(){var n=[["Verdict","Nombre"]];if(c){var e=a(Z.SUCCESS),t=a(Z.FAILED);e&&n.push(["Succ\xe8s",e]),t&&n.push(["Echec",t]),e+t!==c.infos.count_missions&&n.push(["Inconnu",c.infos.count_missions-(e+t)])}return n}(),options:Object(C.a)({},ln)})]})]})]})},On=t(51),pn=O.a.div(tn||(tn=Object(h.a)(["\n    display: flex;\n    justify-content: center;\n    align-content: center;\n"]))),gn=function(){var n=L(),e=N(G),t=N(Q);l.a.useEffect((function(){e.length<=0&&n(B())}),[e]);return Object(v.jsxs)("div",{children:[t?Object(v.jsx)(hn,{}):Object(v.jsx)(v.Fragment,{}),Object(v.jsxs)("h2",{children:[null===e||void 0===e?void 0:e.length," joueurs ont \xe9t\xe9s trouv\xe9s"]}),Object(v.jsx)(pn,{children:Object(v.jsx)(w.a,{width:"auto",height:"auto",chartType:"ColumnChart",loader:Object(v.jsx)("div",{children:"Loading Chart"}),data:function(){var n=["Player","Count"];return e.length>0?[n].concat(Object(_.a)(e.slice().sort((function(n,e){return e.count_missions-n.count_missions})).slice(0,3).map((function(n){return[n.name,n.count_missions]})))):[n]}(),options:{isStacked:!0,chart:{title:"3 plus gros joueurs"},legend:"none",vAxis:{title:"Nombre de missions"},colors:["#ADEBAD"]}})}),Object(v.jsxs)("p",{children:["Chaque joueur a jou\xe9 ",function(){if(e.length>0){var n,t=0,c=Object(On.a)(e);try{for(c.s();!(n=c.n()).done;){t+=n.value.count_missions}}catch(i){c.e(i)}finally{c.f()}return t/e.length}return 0}().toLocaleString(void 0,{maximumFractionDigits:0})," missions en moyenne"]})]})},vn=O.a.div(cn||(cn=Object(h.a)(["\n    border-bottom: 1px solid ",";\n    ","\n"])),(function(n){return n.color?n.color:"var(--background-light)"}),(function(n){return n.width?"width: ".concat(n.width," ;"):""})),mn=O.a.div(rn||(rn=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),yn=O.a.div(an||(an=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    & > label {\n        display: flex;\n        flex-direction: column;\n        width: min-content;\n        text-align: left;\n        & > input {\n            margin: 5px 0 20px 0;\n            border-radius: 5px 5px 0 0;\n            border: 0;\n            border-bottom: 1px solid var(--text);\n            padding: 8px;\n            outline: 0;\n            transition: .1s background;\n\n            &:focus{\n                background: var(--background-dark);\n            }\n        }\n    }\n"]))),Sn=function(n){var e=n.playerID,t=l.a.useState(e),c=Object(I.a)(t,2),i=c[0],r=c[1],a=l.a.useState(e),s=Object(I.a)(a,2),o=s[0],u=s[1];return Object(v.jsxs)(mn,{children:[Object(v.jsx)(yn,{children:Object(v.jsxs)("label",{children:["Nom ou # du joueur :",Object(v.jsx)("input",{type:"text",value:i,onChange:function(n){r(n.target.value)},onBlur:function(n){u(n.target.value)},onKeyPress:function(n){"Enter"===n.key&&u(n.target.value)}})]})}),Object(v.jsx)(vn,{width:"50%"}),o?Object(v.jsx)(fn,{id:o}):Object(v.jsx)(gn,{})]})},Fn=function(){var n=Object(f.f)().id;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{style:{visibility:"hidden"},children:"Joueurs"}),Object(v.jsx)(Sn,{playerID:n})]})},kn=t.p+"static/media/canardhurt.ed18cd85.png",Dn=O.a.div(sn||(sn=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n"]))),En=function(){return Object(v.jsxs)(Dn,{children:[Object(v.jsx)("h1",{children:"404"}),Object(v.jsx)("h2",{children:"Page non trouv\xe9e"}),Object(v.jsx)("img",{src:kn}),Object(v.jsx)("p",{children:"Alors l\xe0, on vous a perdu..."})]})},In=O.a.div(on||(on=Object(h.a)(["\n  margin-top: var(--nav-size);\n  text-align: center;\n  height: calc(100vh - var(--nav-size));\n"]))),Cn=function(){return Object(v.jsxs)(x.a,{basename:"/",children:[Object(v.jsx)(F,{}),Object(v.jsx)(In,{children:Object(v.jsxs)(f.c,{children:[Object(v.jsx)(f.a,{exact:!0,path:"/",component:E}),Object(v.jsx)(f.a,{exact:!0,path:["/players","/players/:id"],component:Fn}),Object(v.jsx)(f.a,{exact:!0,path:["/missions","/missions/:id"],component:D}),Object(v.jsx)(f.a,{component:En})]})})]})},wn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,68)).then((function(e){var t=e.getCLS,c=e.getFID,i=e.getFCP,r=e.getLCP,a=e.getTTFB;t(n),c(n),i(n),r(n),a(n)}))},Ln=t(10),Nn=Object(Ln.c)({player:X});var An=Object(z.a)({reducer:Nn});d.a.render(Object(v.jsx)(l.a.StrictMode,{children:Object(v.jsx)(b.a,{store:An,children:Object(v.jsx)(Cn,{})})}),document.getElementById("root")),wn()}},[[67,1,2]]]);
//# sourceMappingURL=main.e55d131f.chunk.js.map